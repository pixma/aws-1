<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/atomicule/screen.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/default/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/default/print.css" media="print" />

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Arduino Battery Research</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Automatic weather station</h2>
        <a href="http://pixma.github.io/aws-1" class="button">Home</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
			<h1 id="arduino_battery_research">Arduino Battery Research</h1>

<h2 id="history">History</h2>

<ul>
<li>created on 26 Nov. 2013</li>
</ul>

<h2 id="issues">Issues</h2>

<p>First, there are two kind of issues</p>

<ul>
<li>Running arduino full time on batteries</li>

<li>Using batteries as a backup</li>
</ul>

<p>There are other variations as well, like running on rechargable batteries (charging via wall power supply) or using a solar panel to recharge the batteries when the sun is high. However, lets first take the simplest case, i.e. we are running on wall power supply and we just want batteries as a backup source.</p>

<p>The MCU considerations are</p>

<ul>
<li>we are running Uno, that draws 34mA in power down mode.</li>

<li>we are not going to bypass the 7805 linear voltage regulators, so we are assuming that we are going to waste power inside 7805 regulator.</li>

<li>The voltage requirements are same as assuming the wall power supply (7V-12v, idea case 9V)</li>
</ul>

<p>so why can’t we just power the MCU on a 9V battery and be done with it? why do battery research at all? To understand that, lets write down the parameters that affect battery performance.</p>

<h2 id="factors">Factors</h2>

<h3 id="self_discharge_rate">Self discharge rate</h3>

<p>NiMH batteries can lose 1 percent every day. So if we put these kind of batteries as backup then we are going to run out of batteries at the end of 3 months without even using them. The concern here is frequency of recharge. (NiMH are rechargable though). AA alkaline batteries will have a lower discharge rate, so they may be more suitable for longer usage.</p>

<h3 id="voltage">Voltage</h3>

<p>Not all batteries produce the same voltage. Duracell LF1500 (Li-Iron-sulfide) produces nominal voltage of 1.7V whereas Dc1500 produces 1.2V. If we need Voltage V as output then that means putting N batteries in series to produce Nx Nominal voltage = V.</p>

<h3 id="capacity">Capacity</h3>

<p>The duracell DC1500 is rated 2450 mAh. That means ideally it can drive 2450 mA loads for 1 hour. The datasheet for DC1500 shows 1C curve to last 1 HR. However please note that the relationship is not linear and voltage is below 1.2 V at 0.8 hours (80% of discharge). The same battery can work for about 10.2 hours when the load is 0.1C. So how long can a battery drive a load? That is given by the capacity of the battery. A 9V battery may be rated 500mAH and it may run out of charge before the 1.2V DC1500.</p>

<h3 id="crating">C-rating</h3>

<p>Not all batteries can drive all loads. Ideally, the battery should be able to drive any load x for y HR if xy= capacity of battery. So the question to ask is, if a 500mAH battery can drive 30A kind of load for 500mAh/ (500mA x 60) = 1h/60 = 1 minute? The answer looks plausible but the C-rating of this battery is 500mA only. so we are asking the battery to drive loads at 60C. Can a battery do that? There are safety concerns here. A battery discharging so fast can burst catch fire and burst into flames. Ideally we should be subjecting the battery to maximum 1C loads only.</p>

<h3 id="burst_rates">Burst rates</h3>

<p>what are the burst rates of the battery? GSM modems can load the battery with upto 2A at a pulse rate of 577 us.</p>

<h3 id="internal_resistance_impedance">Internal resistance (impedance?)</h3>

<p>todo</p>

<h3 id="discharge_cycles">Discharge cycles</h3>

<p>How long the battery going to last? Every battery has a finite charge/discharge cycles.</p>

<h3 id="cost">Cost</h3>

<p>Obviously! cost is always a criteria in any design.</p>

<h3 id="form_considerations">Form considerations</h3>

<p>There can be things like most battery packs available for AA batteries only. So we may decide in favor of such batteries because of form factor. size can be another factor. If small size is desired, some batteries may not fit the bill.</p>

<h2 id="type_of_batteries">Type of batteries</h2>

<ol>
<li>LiPo - Lithium Polymer</li>

<li>Li-Ion</li>

<li>NiMH - Rechargable</li>

<li>Alkaline - un-rechargable</li>
</ol>

<h2 id="aws_recommendations">AWS recommendations</h2>

<ul>
<li>We need to drive our MCU at 7-12V (we are not planning to bypass the linear voltage regulators, no mucking with board), so see the nominal voltage of the battery and decide the number of batteries required and hence the size of pack.</li>

<li>We need to drive GSM modem pulses, so we need a battery with C rating equivalent to highest current drawn by GSM modem.</li>

<li>Get a battery with higher capacity</li>

<li>Get a battery with low self discharge rate. We plan to provide batteries as backup so users donot have to take them out regularly.</li>

<li>NiMH means user have to charge them every 2 months or so but advantage is they are rechargable.</li>

<li>Alkaline fits the bill of we do not plan to recharge.</li>

<li>Assuming 50mA of normal operation and two 10 second bursts for GSM modems at 1A, we would need, 24x50mAh + 2x1000x(1/72)mAh ~ 1250 mAh for 24 hours. So a 2200 mAh battery should be good for about 40 hours.</li>

<li>You can put the batteries in parallel to increase capacity.</li>
</ul>

<h2 id="aws_future_considerations">AWS future considerations</h2>

<ul>
<li>If we can bypass the linear voltage regulator (or use an LTC3525) and get rocket scream board or other BBB then we can drive the power down mode consumption to micro amperes. Now assuming 5 second of wake up time every minute and 2 bursts of GSM modem lasting 10 seconds at 1A, we should require, 5 seconds/minute x 60 x 24 = 2 HR of normal operation + 50mhA ~ 150mAh. With wake up happening every 20 minutes, we can cut that down to 15x24 seconds = 0.1HR of normal opeartion + 50mAh ~ 55mAh/day If GSM bursts last for 2 seconds then, we consume ~ 15mAh and we can run for (2200/15) x 0.8 days ~ 4 months.</li>
</ul>

<h2 id="gsm_modem_pulse">GSM modem pulse</h2>

<p>todo</p>

<h2 id="safety_issues">Safety issues</h2>

<ul>
<li>
<p>Don’t overcharge - find the voltage for 100% charging</p>
</li>

<li>
<p>Battery charging current should not exceed 1C</p>
</li>

<li>
<p>Battery Balancing would be required for a pack. We can use balancing plugs or chargers.</p>
</li>

<li>
<p>Don’t load more than discharge rate of a battery called C-rate. LiPo can burst and catch fire.</p>
</li>

<li>
<p>while charging batteries</p>

<ul>
<li>Batteries should be in a fire proof container</li>

<li>Batteries should be in a smart charger</li>
</ul>
</li>

<li>
<p>Li-ion and LiPo batteries can explode</p>
</li>

<li>
<p>Never charge batteries in series without a smart charger</p>
</li>
</ul>
		</section>

      </div>
    </div>

  </body>
</html>

