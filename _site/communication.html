<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/atomicule/screen.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/default/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/default/print.css" media="print" />

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Communication Information</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Automatic weather station</h2>
        <a href="http://pixma.github.io/aws-1" class="button">Home</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
			<h1 id="communication_between_from_and_how_long">Communication between, from, and how long</h1>
<hr />
<p><br /></p>

<h2 id="communication_types">Communication types</h2>

<ul>
<li>RS232</li>

<li>RS422</li>

<li>RS485</li>

<li>CAN BUS</li>

<li>MOD Bus ( Serial Communication Protocol ).</li>
</ul>

<p><br /></p>
<hr />
<h2 id="intro">Intro</h2>

<p>This page tells you available types of communication protocol, which takes place between microcontrollers or say between a master and slaves.</p>
<hr />
<h3 id="rs232">RS232</h3>
<hr />
<h3 id="rs422">RS422</h3>
<hr />
<h3 id="rs485">RS485</h3>

<p>ANSI TIA EIA - 485 is a standard defining the electrical characteristics of drivers and receivers for use in balanced digital multipoint systems. RS means “Recommended Standard”.</p>

<p>Components required -</p>

<ul>
<li>Max 485 E</li>

<li><a href="http://datasheets.maxim-ic.com/en/ds/MAX1487E-MAX491E.pdf">Datasheet here</a></li>

<li><a href="http://in.element14.com/jsp/search/browse.jsp;jsessionid=DDVDTFPQQG0UUCWNBBSRFYY?N=0&Ntk=gensearch&Ntt=MAX485E&Ntx=mode+matchallpartial&exposeLevel2Refinement=true&suggestions=false&ref=globalsearch&_requestid=10151">Available , from element 14</a></li>

<li>DIP 8 package - 316 / pcs</li>

<li>SOIC 8 package- 250 / pcs</li>

<li>The same also availabel in mouser and digikey by part number - MAX 485E.</li>

<li>For detailed study and comparisions, <a href="http://www.lammertbies.nl/comm/info/RS-485.html">please take a look here</a></li>

<li>Its schematics are provided in the datasheet itself.</li>

<li>With arduino, wire connection are show below.</li>
</ul>

<p><br /></p>

<p><img src="http://dereenigne.org/wp-content/uploads/modbus-417x600.png" alt="Alt text" /></p>

<ul>
<li>Arduino serial <a href="http://arduino-info.wikispaces.com/SoftwareSerialRS485Example">example goes here</a></li>

<li>Another library with <a href="https://github.com/Protoneer/RS485-Arduino-Library">arduino with max485</a></li>

<li>About cables, this part is coming soon.</li>
</ul>

<p><br /></p>
<hr />
<p><br /></p>
<hr />
<h3 id="can_bus">CAN Bus</h3>

<ul>
<li>Controller Area Network (CAN)</li>

<li>Originally developed by Robert Bosh.</li>

<li>Multi drop, multi master serial bus provides communication between controllers, sensors and actuators.</li>

<li>Multi drop, .i.e is, many device on a BUS.</li>

<li>CAN 2.0 A is Standard format.</li>

<li>CAN 2.0 B is extended format.</li>

<li>InternationalStandard ISO 11898
<ul>
<li>ISO 11898 2 High Speed applications up to 1Mbps.</li>

<li>ISO 11898 3 Low Speed applications up to 125 Kbps</li>
</ul>
</li>

<li>CAN broadcast the messages, any node is allowed to broadcast a message.</li>

<li>Each message contains an ID that identifies the source, or the contentof a message.</li>

<li>Receiver will decide to process or ignore the message, each message.</li>

<li><a href="http://www.youtube.com/watch?v=fTWp6bFIt0s">Check this CAN BUS introduction video.</a></li>

<li><a href="http://infosys.beckhoff.com/english.php?content=../content/1033/bx5200/html/co_inswirbus.htm&id=">CAN Cable characteristics, BUS length 50Kbits per sec for within 1000m range, Screened twisted-pair cables (2x2) with a characteristic impedance of between 108 and 132 Ohm is recommended for the CAN wiring.</a></li>

<li>Available CAN Bus in India
<ul>
<li><a href="http://www.protocentral.com/arduino-shields/337-can-bus-shield.html">Protocentral</a> , for 1,799 INR.</li>

<li><a href="http://shop.sumeetinstruments.com/index.php?route=product/product&path=69_71&product_id=436">Sumeet e shop</a>, for 3,650 INR.</li>

<li><a href="http://entesla.com/mcp2515-SPI-CAN?filter_name=CAN">entesla</a>, for 1,100 INR.</li>
</ul>
</li>

<li><a href="http://www.seeedstudio.com/wiki/CAN-BUS_Shield">Tested with arduino, and interfacing</a></li>

<li>But the above code library is according to the shield.</li>
</ul>

<h3 id="a_diy_of_can_as_a_customised_board">A DIY of CAN as a customised board</h3>

<h4 id="components_required">Components required</h4>

<ul>
<li>MCP2515 CAN Bus controller with SPI interface.
<ul>
<li><a href="http://in.element14.com/microchip/mcp2515-e-so/can-controller-spi-10ma-18soic/dp/1605565">Available at in.element14.com, in smd SOC package, 200 INR</a></li>

<li><a href="http://in.element14.com/microchip/mcp2515-i-p/controller-can-spi-pdip18-2515/dp/1439391">Available at in.element14.com in Throgh hole, PDIP package, 155 INR</a></li>
</ul>
</li>

<li>MCP2551 CAN transceiver to give your board CAN-BUS capibility.
<ul>
<li><a href="http://in.element14.com/microchip/mcp2551-e-p/ic-can-transceiver-dip8-2551/dp/1439745">In DIP package, 101 INR</a></li>

<li><a href="http://in.element14.com/microchip/mcp2551-e-sn/ic-transceiver-can-smd-8soic/dp/1467746">In SOC smd package, 107 INR</a></li>
</ul>
</li>

<li><a href="http://www.seeedstudio.com/wiki/images/7/78/CAN-BUS_Shield_v0.9b.pdf">OpenSource schematics are here</a></li>

<li>Study is still on</li>
</ul>

<p><br /></p>
<hr />
<p><br /></p>

<h3 id="mod_bus">Mod Bus</h3>

<ul>
<li>
<p>Modbus is a serial communications protocol originally published by Modicon, now Schneider Electric, in 1979, for use with its programmable logic controllers. So this isn’t any hardware, this is protocol which you can drive on RS232, RS485, even on CAN BUS, by writting the protocol on software part. This was developed for some important reasons in industry environment:</p>
</li>

<li>
<p>Developed with industrial application in mind</p>
</li>

<li>
<p>opnely published and rolyality free.</p>
</li>

<li>
<p>easy to deply and maintain.</p>
</li>

<li>
<p>moves raw bits or words without placing many restrictions on vendors.</p>
</li>

<li>
<p>Modbus enables communications between many devices, approx 240, connected on same network, for examplee a system that measures temperature and humidity and communicates the results to a computer, Modbus is often used to connect a supervisory computer with a remote terminal unit ( RTU ) in supervisory control and data acqusition systems ( SCADA ).</p>
</li>

<li>
<p>But there are some limitations, you can study about it, <a href="http://en.wikipedia.org/wiki/Modbus">here</a></p>
</li>

<li>
<p>There are modes under Modbus communication.</p>
</li>

<li>
<p>Please check here for your <a href="http://www.simplymodbus.ca/FAQ.htm">FAQs regarding Modbus</a></p>
</li>

<li>
<p>ModBus is a serial communication protocol.</p>
</li>

<li>
<p>The device requesting the information is called the Modbus Master and the device supplying information are Modbus Slaves.</p>
</li>

<li>
<p>In standard network, there is one Master and upto 247 Slaves, each with a unique Slave address from 1 to 247. The Master can also write information to slaves.</p>
</li>

<li>
<p>official Modbus specification can be found at <a href="http://www.modbus-ida.org">www.modbus-ida.org</a></p>
</li>

<li>
<p>Modbus is an open protocol, meaning that it’s free for manufacturers to build into their equipment without having to pay royalties. It has become a standard communications protocol in industry, and is now the most commonly available means of connecting industrial electronic devices. It is used widely by many manufacturers throughout many industries. Modbus is typically used to transmit signals from instrumentation and control devices back to a main controller or data gathering system, for example a system that measures temperature and humidity and communicates the results to a computer. Modbus is often used to connect a supervisory computer with a remote terminal unit (RTU) in supervisory control and data acquisition (SCADA) systems. Versions of the Modbus protocol exist for serial lines (Modbus RTU and Modbus ASCII) and for Ethernet (Modbus TCP).</p>
</li>

<li>
<p>Serial lines, or say modbus communication modes, RTU and ASCII mode of communication.</p>
</li>

<li>
<p>this can be implemented also on ethernet, Modbus on TCP.</p>
</li>

<li>
<p><a href="http://playground.arduino.cc/Code/ModbusMaster">Arduino with modbus communication</a>, network connected from RS232, RS485 to try this library.</p>
</li>

<li>
<p>implementation of modbus on RS232, RS485, <a href="http://www.rtaautomation.com/modbusrtu/">please take a look here</a>.</p>
</li>

<li>
<p>Wires for modbus, people are using wires like telephone wires, like RJ11, RJ45 with less wires conncted for ethernet connection, and for RS232 connection/ network, RS232 cables are been used.</p>
</li>

<li>
<p>more is coming on this subject, regarding connectors and pin connections.</p>
</li>
</ul>

<p>One thing you can take from this content is, Modbus is protocol that you can implement on various physical layers. Plysical layers like RS232, RS422, RS485 and so on. <br /></p>
<hr />
<p>Mail to: <a href="mailto:pixma38@gmail.com">Annim Banerjee</a>, <a href="mailto:annimbanerjee@nokiamail.com">Alternate mail</a>.</p>
<hr />
		</section>

      </div>
    </div>

  </body>
</html>

